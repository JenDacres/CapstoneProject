<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MYUWIGYM</title>
    <link rel="stylesheet" href="SelectTrainer.css"> <!--Link to external CSS-->
</head>
<body>
    <div class="container">
        <a href="#" class="back-arrow">&larr;</a>

        <h1>Choose your <span class="bold">trainer</span></h1>

        <div class="trainer-image">
            <img src="placeholder.jpg" alt="Place Holder">
        </div>

        <div class ="trainer-names">
            <button class="trainer-btn">John Doe</button>
            <button class="trainer-btn">Janice Smith</button>
            <button class="trainer-btn">Martin Garrix</button>
        </div>

        <div class="action-buttons">
            <button class="action-btn">Request</button>
            <button class="action-btn">Skip</button>
        </div>
        
        <script>
            async function loadTrainers() {
              try {
                const res = await fetch("http://localhost:5000/trainers");
                const trainers = await res.json();
                const container = document.getElementById("trainer-list");
          
                container.innerHTML = "";
          
                trainers.forEach(trainer => {
                  const wrapper = document.createElement("div");
                  wrapper.className = "trainer-profile";
          
                  wrapper.innerHTML = `
                    <div class="trainer-image">
                      <img src="${trainer.profile_image}" alt="${trainer.full_name}" />
                    </div>
                    <button class="trainer-btn" onclick="selectTrainer('${trainer.user_id}')">${trainer.full_name}</button>
                  `;
          
                  container.appendChild(wrapper);
                });
              } catch (err) {
                console.error("Error loading trainers:", err);
              }
            }
          
            function selectTrainer(trainerId) {
              // Save trainerId or attach it to booking
              console.log("Selected Trainer:", trainerId);
              // You can also store it in localStorage or pass to another page
            }
          
            loadTrainers();
          </script>
          
    </div>
</body>